system: "onshore_batch"

modeling_options:
  windIO_plant: !include windio.yaml
  layout:
    N_turbines: 65 # should be 65 turbines
    N_substations: 1
    spacing_primary: 7.0
    spacing_secondary: 7.0
    angle_orientation: 0.0
    angle_skew: 0.0
  aero:
    return_turbine_output: False
  floris:
    peak_shaving_fraction: 0.2
    peak_shaving_TI_threshold: 0.0
  collection:
    max_turbines_per_string: 8
    solver_name: "highs"
    solver_options:
      time_limit: 60
      mip_gap: 0.02
    model_options:
      topology: "branched"  # "radial", "branched"
      feeder_route: "segmented"
      feeder_limit: "unlimited"
  offshore: false
  floating: false
  costs:
    rated_power: 5000000.0  # W
    num_blades: 3
    rated_thrust_N: 823484.4216152605 # from NREL 5MW definition
    gust_velocity_m_per_s: 70.0 # from https://github.com/NLRWindSystems/WISDEM/blob/master/examples/02_reference_turbines/nrel5mw.yaml
    blade_surface_area: 69.7974979
    tower_mass: 620.4407337521
    nacelle_mass: 101.98582836439
    hub_mass: 8.38407517646
    blade_mass: 14.56341339641
    foundation_height: 0.0
    commissioning_cost_kW: 44.0 # from https://github.com/NLRWindSystems/WISDEM/blob/master/examples/02_reference_turbines/nrel5mw.yaml
    decommissioning_cost_kW: 58.0 # from https://github.com/NLRWindSystems/WISDEM/blob/master/examples/02_reference_turbines/nrel5mw.yaml
    trench_len_to_substation_km: 50.0
    distance_to_interconnect_mi: 4.97096954
    interconnect_voltage_kV: 130.0 # from https://github.com/NLRWindSystems/WISDEM/blob/master/examples/02_reference_turbines/nrel5mw.yaml
    tcc_per_kW: 1300.00  # (USD/kW)
    opex_per_kW: 44.00  # (USD/kWh)

analysis_options:
  driver:
    name: ScipyOptimizeDriver
    options:
      optimizer: "COBYLA"
      opt_settings:
        rhobeg: 2.0
      debug_print:
        - "desvars"
        - "objs"
  design_variables:
    spacing_primary:
      lower:  3.0
      upper: 20.0
    spacing_secondary:
      lower:  3.0
      upper: 20.0
    angle_orientation:
      lower: -180.0
      upper:  180.0
    angle_skew:
      lower: -75.0
      upper: 180.0
    x_substations:
      lower: -3000
      upper: 3000
      scaler: 1E-2
    y_substations:
      lower: -3000
      upper: 3000
      scaler: 1E-2
  constraints:
    boundary_distances:
      units: "km"
      upper: 0.0
      scaler: 2.0
    spacing_constraint.turbine_spacing:
      units: "km"
      lower: 0.552
  objectives:
    financese.lcoe:
      scaler: 1.0
  recorder:
    filepath: "cases.sql"